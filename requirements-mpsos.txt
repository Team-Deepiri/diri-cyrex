fastapi==0.112.2
uvicorn[standard]==0.30.6
pydantic>=2.9.0  # Required for langchain-ollama>=1.0.0 and ollama>=0.6.0
watchdog>=3.0.0  # For custom file watcher in development
psutil>=5.9.0  # For process management and port cleanup
python-multipart>=0.0.6  # Required for FastAPI file uploads (File, Form)
openai==1.109.1
python-dotenv==1.0.1
httpx==0.27.2
pytest==8.3.2
pytest-asyncio==0.23.5
pytest-cov==4.1.0
pytest-timeout==2.3.1
structlog==24.1.0
python-json-logger==2.0.7
prometheus-client==0.20.0
redis[hiredis]>=5.0.1  # Includes hiredis for better async performance
pydantic-settings>=2.10.1  # Required for langchain-community 0.3.29+ and langchain-core 1.x

# AI Training Dependencies (MPS/macOS - Metal Performance Shaders)
torch>=2.0.0  # MPS support included in PyTorch 2.0+
transformers>=4.35.0
datasets>=2.14.0
accelerate>=0.24.0
# deepspeed>=0.12.0  # GPU-only, not available for MPS
mlflow>=2.7.0
wandb>=0.15.0
jupyter>=1.0.0
notebook>=6.5.0
scikit-learn>=1.3.0
numpy>=1.24.0
pandas>=2.0.0
# Training pipeline visualization and utilities
matplotlib>=3.7.0
seaborn>=0.12.0
tqdm>=4.65.0
ipython>=8.0.0

# New AI Service Dependencies (MPS-compatible)
peft>=0.7.0  # For LoRA adapters
# bitsandbytes>=0.41.0  # GPU-only quantization, not available for MPS
gymnasium>=0.29.0  # For RL environment
stable-baselines3>=2.2.0  # For RL algorithms (optional)

# Database Dependencies
asyncpg>=0.29.0  # Async PostgreSQL driver for connection pooling (required for postgres.py)
pymilvus>=2.3.0  # For Milvus vector database
pinecone-client>=3.0.0  # For Pinecone (optional)
weaviate-client>=4.0.0  # For Weaviate (optional)

# Time-Series Analytics
influxdb-client>=1.38.0  # For InfluxDB

# Graph Analysis
networkx>=3.2  # For obligation dependency graphs

# MLOps Dependencies
kubernetes>=28.1.0  # For Kubernetes deployment

# Additional ML Libraries
optuna>=3.5.0  # For hyperparameter optimization (optional)
hyperopt>=0.2.7  # For hyperparameter optimization (optional)
tensorboard>=2.15.0  # For visualization (optional)

# Sentence Transformers for embeddings
sentence-transformers>=2.2.0

# LangChain for AI orchestration and RAG
# Note: Upgraded to 1.x ecosystem to support langgraph-checkpoint-redis and langchain-classic
# BREAKING CHANGES: This upgrade requires Python >=3.9 and Pydantic 2.x
# All packages require: langchain-core >= 1.0.0
# IMPORTANT: This is a major version upgrade - test your code thoroughly after upgrading
langchain>=1.0.0
langchain-core>=1.0.0  # Required for langgraph 1.0+ and langchain-classic compatibility
langchain-community>=0.3.29  # Requires langchain-core 1.x and pydantic-settings>=2.10.1
langchain-text-splitters>=0.3.0
langchain-openai>=0.2.0  # Updated for langchain-core 1.x compatibility
langchain-milvus>=0.1.4
langchain-huggingface>=0.0.3
langchain-ollama>=1.0.0  # Updated for langchain-core 1.x compatibility (requires pydantic>=2.9 and ollama>=0.6.0)
langchain-classic>=1.0.0  # Provides deprecated AgentExecutor and other legacy functionality (REQUIRES langchain-core 1.x)
langsmith>=0.1.0  # Optional: for LangSmith monitoring and debugging

# LangGraph for multi-agent workflows and stateful orchestration
# Upgraded to 1.0+ to support langgraph-checkpoint-redis
langgraph>=1.0.0  # Graph-based agent workflows (compatible with langchain-core 1.x)
langgraph-checkpoint-redis>=0.2.0  # Redis checkpointing for state persistence (requires langgraph 1.0+)

# Local LLM Support (Cost-effective alternatives to OpenAI)
ollama>=0.6.0  # Ollama API client for local models (required by langchain-ollama>=1.0.0)
llama-cpp-python>=0.2.0  # llama.cpp bindings (optional, for direct model loading)
# Note: Install llama-cpp-python separately with: pip install llama-cpp-python
# For macOS MPS: Use default installation (MPS support is automatic)

# Deepiri ModelKit (shared contracts and utilities)
# Installed from /app/deepiri-modelkit in Dockerfile
# For local development: pip install -e ../deepiri-modelkit

# Document Processing
pdfplumber>=0.10.0  # PDF text extraction (preferred)
PyPDF2>=3.0.0  # PDF text extraction (fallback)
python-docx>=1.1.0  # DOCX text extraction
pytesseract>=0.3.10  # OCR for images (requires Tesseract binary)
Pillow>=10.0.0  # Image processing
pdf2image>=1.16.0  # PDF to image conversion for OCR
beautifulsoup4>=4.12.0  # HTML parsing
openpyxl>=3.1.0  # Excel file reading/writing
# docling>=1.0.0  # DocLayNet for advanced layout detection (optional, install separately if needed)



